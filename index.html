<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Красное море</title>
  <script src="aframe.min.js"></script>
  <script src="aframe-extras.min.js"></script>
</head>
<body>

  <script>
    AFRAME.registerComponent('timer', {
      schema: { start: { default: 10 } },
      init: function () {
        this.count = this.data.start;
        this.el.setAttribute('value', this.count);
        this.interval = setInterval(() => {
          this.count--;
          if (this.count >= 0) {
            this.el.setAttribute('value', this.count);
          }
          if (this.count === 0) {
            clearInterval(this.interval);
            this.el.setAttribute('color', 'red');
          }
        }, 1000);
      },
      remove: function () {
        if (this.interval) clearInterval(this.interval);
      }
    });
  </script>

  <a-scene>
    <a-camera look-controls></a-camera>
    <a-light type="ambient" color="#fff" intensity="3"></a-light>
    <a-text id="timer" value="10" position="0 2 -2" color="#000" font="mozillavr" timer="start: 10"></a-text>

    <a-entity gltf-model="url(Wall_with_name.glb)" position="0 0 6" scale="1 1 1" rotation="0 180 0"></a-entity>
    <a-entity gltf-model="url(Cubs_static.glb)" position="9 0 -6" scale="1 1 1" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="url(Cubs_dynamic.glb)" position="9 0 -6" scale="1 1 1" rotation="0 90 0" animation="property: position; to: 9 2 -6; dur: 1000; easing: easeInOutSine; loop: true; dir: alternate"></a-entity>

    <a-box color="crimson"position="0 10 0" animation="property: position; to: 0 0 0; dur: 2000; easing: easeInQuad; delay: 10004"></a-box>

    <a-plane position="0 0 -4" rotation="-90 0 0" width="20" height="20" color="#7BC8A4"> </a-plane>
    <a-sky color="#e0f7fa"></a-sky>
  </a-scene>



</body>
</html>
